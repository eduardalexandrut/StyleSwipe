<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" />
    <link href="../style/style.css" rel="stylesheet">
    
</head>

<body>
    <header>
        <h2>Style Swipe</h2>
        <a class="" href="login.html">Log Out</a>
    </header>
    <nav>
        <ul>
            <li>
                <i class="bi-house"></i>
                <a href="home.html">Home</a>
            </li>
            <li>
                <i class="bi-search" onclick="openNav()"></i>
                <a href="#" onclick="openNav()">Search</a>
            </li>
            <li>
                <i class="bi-plus-circle"></i>
                <a href="create.html">New Outfit</a>
            </li>
            <li data-name="hidden"> 
                <i class="bi-bell"></i>
                <a data-bs-toggle="modal" data-bs-target="#notifyModal" href="#">Notifications</a>
            </li>
            <li>
                <i data-name="active" class="bi-person"></i>
                <a data-name="active" href="profile.html">Profile</a>
            </li>
        </ul>
    </nav>
    <main id="profile-main">
        <div id="profile-container">
            <div id="profile-info">
                <div class="profile-pic-container">
                    <img src="../img/outfit.jpeg" alt="Profile Picture" />
                </div>
                <p>@username</p>
                <div id="profile-stats">
                    <span class="stat-item">
                        <span>21</span><br>
                        <span>Post</span>
                      </span>
                    <span class="stat-item">
                        <span>1024</span><br>
                        <a data-bs-toggle="modal" data-bs-target="#modalFollow" id="showFollowers" href="#">Followers</a>
                    </span>
                    <span class="stat-item">
                        <span>2k</span><br>
                        <a data-bs-toggle="modal" data-bs-target="#modalFollow" id="showFollowings" href="#">Followings</a>
                    </span>
                </div>
            </div>
            <div id="switch-container">
                <i id="posts-icon" class="fas fa-tshirt icon active"></i>
                <i id="saved-icon" class="fas fa-star icon"></i>
            </div>
            <div>
                <div id="posts-grid" class="grid">
                    <!-- Griglia per post pubblicati-->
                    <div class="profile-post" onclick="showPost(this)">
                        <img src="../img/outfit.jpeg" alt="Post Image">
                    </div>
                    <div class="profile-post">
                        <img src="../img/outfit.jpeg" alt="Post Image">
                    </div>
                    <div class="profile-post">
                        <img src="../img/outfit.jpeg" alt="Post Image">
                    </div>
                    <div class="profile-post">
                        <img src="../img/outfit.jpeg" alt="Post Image">
                    </div>
                    <div class="profile-post">
                        <img src="../img/outfit.jpeg" alt="Post Image">
                    </div>
                    <div class="profile-post">
                        <img src="../img/outfit.jpeg" alt="Post Image">
                    </div>
                    <div class="profile-post">
                        <img src="../img/outfit.jpeg" alt="Post Image">
                    </div>
                </div>
                <div id="saved-grid" class="grid hidden">
                    <!-- Griglia per post salvati -->
                </div>
            </div>
        </div>
    </main><aside class="notificationAside">
        <h3>Notifications:</h3>
        <!--New Notification element.-->
        <div class="notification">
            <img alt="User Profile Pic" src="../img/outfit.jpeg" />
            <span class="notify-badge badge rounded-pill bg-primary">New</span>
            <p><span class="notify-user"><a href="profile.html">@username</a></span> <a class="notify-liked" href="#">Liked</a> your post. <span class="notify-time">2h ago</span></p>
        </div>

        <!--Notification element.-->
        <div class="notification">
            <img alt="User Profile Pic" src="../img/outfit.jpeg" />
            <p><span class="notify-user"><a href="profile.html">@username</a></span> <a class="notify-stared" href="#">Starred</a> your post. <span class="notify-time">2h ago</span></p>
        </div>

        <!--Notification element.-->
        <div class="notification">
            <img alt="User Profile Pic" src="../img/outfit.jpeg" />
            <p><span class="notify-user"><a href="profile.html">@username</a></span> <a class="notify-commented" href="#">Commented</a> your post. <span class="notify-time">2h ago</span></p>
        </div>
        
    </aside>

    <!--Notifications Modal-->
    <div class="modal fade" id="notifyModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class=" modal-content">
                <div class="modal-header">
                    <h2>Notifications</h2>
                    <button data-bs-dismiss="modal">
                        <i class="bi-x-circle"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <!--New Notification element.-->
                    <div class="notification">
                        <img alt="User Profile Pic" src="../img/outfit.jpeg" />
                        <span class="notify-badge badge rounded-pill bg-primary">New</span>
                        <p><span class="notify-user"><a href="profile.html">@username</a></span> <a class="notify-liked" href="#">Liked</a> your post. <span class="notify-time">2h ago</span></p>
                    </div>

                    <!--Notification element.-->
                    <div class="notification">
                        <img alt="User Profile Pic" src="../img/outfit.jpeg" />
                        <p><span class="notify-user"><a href="profile.html">@username</a></span> <a class="notify-stared" href="#">Starred</a> your post. <span class="notify-time">2h ago</span></p>
                    </div>

                    <!--Notification element.-->
                    <div class="notification">
                        <img alt="User Profile Pic" src="../img/outfit.jpeg" />
                        <p><span class="notify-user"><a href="profile.html">@username</a></span> <a class="notify-commented" href="#">Commented</a> your post. <span class="notify-time">2h ago</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Followers/Followings Modal-->
    <div id="modalFollow" class="modal fade">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
                <!--Codice php per mostrare Followers o Followings a seconda del tasto cliccato-->
                <p class="modalTitle">Followers</p>
                <button data-bs-dismiss="modal">
                    <i class="bi-x-circle"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="userContainer">
                    <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                    <p>@username</p>
                </div>
                <div class="userContainer">
                    <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                    <p>@username</p>
                </div>
                <div class="userContainer">
                    <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                    <p>@username</p>
                </div>
                <div class="userContainer">
                    <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                    <p>@username</p>
                </div>
                <div class="userContainer">
                    <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                    <p>@username</p>
                </div>
                <div class="userContainer">
                    <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                    <p>@username</p>
                </div>
                <div class="userContainer">
                    <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                    <p>@username</p>
                </div>
                <div class="userContainer">
                    <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                    <p>@username</p>
                </div>
            </div>
          </div>
        </div>
    </div>

    <!--
        Post Modal
    -->
    <div id="postModal" class="modal fade">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
                <button data-bs-dismiss="modal">
                    <i class="bi-x-circle"></i>
                </button>
            </div>
            <div class="modal-body">
                <img id="postImage" src="" alt="Post Image" class="img-fluid"/>
            </div>
            <div class="modal-footer">
                <p id="postUsername">@username</p>
                <p id="postCaption">Lorem ipsum dolor sit amet, consectetur adipisci elit, sed do eiusmod tempor incidunt ut labore et dolore magna aliqua.</p>
            </div>
          </div>
        </div>
    </div>

    <!--
        Search Sidebar 
        (Verrà sostituito da una pagina php che contiene il blocco di codice in modo da non doverlo replicare in tutte le pagine)
        es. <?php include "searchBar.php"; ?>
    -->
    <div id="search-sidebar">
        <div class="sidebar-header">
            <input type="text" id="search-bar" placeholder="Search">
            <button class="close-sidebar" onclick="closeNav()">
                <i class="bi-x-circle"></i>
            </button>
        </div>
        <div class="search-container">
            <!--Qui verranno inseriti i profili trovati-->
            <div class="userContainer">
                <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                <p>@username</p>
            </div>
            <div class="userContainer">
                <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                <p>@username</p>
            </div>
            <div class="userContainer">
                <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                <p>@username</p>
            </div>
            <div class="userContainer">
                <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                <p>@username</p>
            </div>
            <div class="userContainer">
                <span class="profile-pic-container"><img src="../img/logo.png" alt="profile picture"></span>
                <p>@username</p>
            </div>
        </div>
    </div>
    <div id="overlay" onclick="closeNav()"></div>


    <script>
        document.getElementById('posts-icon').addEventListener('click', function() {
            document.getElementById('posts-grid').classList.remove('hidden');
            document.getElementById('saved-grid').classList.add('hidden');
            document.getElementById('posts-icon').classList.add('active');
            document.getElementById('saved-icon').classList.remove('active');
        });

        document.getElementById('saved-icon').addEventListener('click', function() {
            document.getElementById('posts-grid').classList.add('hidden');
            document.getElementById('saved-grid').classList.remove('hidden');
            document.getElementById('posts-icon').classList.remove('active');
            document.getElementById('saved-icon').classList.add('active');
        });

        document.getElementById('showFollowers').addEventListener('click', function() {
            document.getElementsByClassName('modalTitle')[0].textContent = 'Followers';
        });

        document.getElementById('showFollowings').addEventListener('click', function() {
            document.getElementsByClassName('modalTitle')[0].textContent = 'Followings';
        });

        function showPost(post) {
            document.getElementById('postImage').src = post.querySelector('img').src;
            /*document.getElementById('postUsername').textContent = post.querySelector('.username').textContent;
            document.getElementById('postCaption').textContent = post.querySelector('.caption').textContent;*/
            new bootstrap.Modal(document.getElementById('postModal')).show();
        }

        function openNav() {
            console.log("openNav() called");
            document.querySelector('body').style.overflow = "hidden";
            document.querySelector('nav').style.display = "none";
            document.getElementById("search-sidebar").style.width = "40%";
            document.getElementById("overlay").style.display = "block";
        }

        function closeNav() {
            console.log("closeNav() called");
            document.querySelector('nav').style.display = "flex";
            document.getElementById("search-sidebar").style.width = "0%";
            document.getElementById("overlay").style.display = "none";
        }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>

</html>

<!--
    TO DO:
    - codice php per prelevare i post dal database e visualizzarli nella griglia
    - visualizzazione dettaglio post quando ci si clicca sopra
    - codice php per visualizzare numero di post, followers e followings
    - codice php per visualizzare l'immagine del profilo
-->